@model IEnumerable<Pack>
@{
    ViewData["Title"] = "Manage Packs";
}

<link rel="stylesheet" href="~/css/admin-modern.css" />

<div class="container my-5">
    <!-- Header -->
    <div class="admin-header">
        <div>
            <h1><i class="bi bi-box-seam"></i> Manage Game Packs</h1>
            <p>Create and manage game bundles for your store</p>
        </div>
        <a asp-action="Create" class="btn-admin-primary">
            <i class="bi bi-plus-circle"></i> Create New Pack
        </a>
    </div>

    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <i class="bi bi-check-circle-fill"></i> @TempData["SuccessMessage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }

    @if (TempData["ErrorMessage"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <i class="bi bi-exclamation-triangle-fill"></i> @TempData["ErrorMessage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }

    @if (Model != null && Model.Any())
    {
        <div class="admin-grid">
            @foreach (var pack in Model)
            {
                <div class="admin-card">
                    <div class="admin-card-image">
                        @if (!string.IsNullOrEmpty(pack.Image))
                        {
                            <img src="@pack.Image" alt="@pack.PackName">
                        }
                        else
                        {
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; height: 100%;">
                                <i class="bi bi-box-seam" style="font-size: 3rem; color: white;"></i>
                            </div>
                        }
                        @if (pack.IsActive)
                        {
                            <span class="admin-badge badge-success">Active</span>
                        }
                        else
                        {
                            <span class="admin-badge badge-danger">Inactive</span>
                        }
                    </div>
                    <div class="admin-card-content">
                        <h3>@pack.PackName</h3>
                        <p class="admin-card-description">
                            @if (!string.IsNullOrEmpty(pack.Description))
                            {
                                @pack.Description
                            }
                            else
                            {
                                <span style="color: #a0aec0;">No description</span>
                            }
                        </p>
                        <div class="admin-card-meta">
                            <div class="admin-meta-item">
                                <i class="bi bi-tag-fill"></i>
                                <span>@pack.Price.ToString("C")</span>
                            </div>
                            <div class="admin-meta-item">
                                <i class="bi bi-controller"></i>
                                <span>@(pack.PackGames?.Count ?? 0) games</span>
                            </div>
                        </div>
                        <div class="admin-card-actions">
                            <a asp-action="Edit" asp-route-id="@pack.Id" class="btn-admin-edit">
                                <i class="bi bi-pencil-square"></i> Edit
                            </a>
                            <a asp-action="Delete" asp-route-id="@pack.Id" class="btn-admin-delete">
                                <i class="bi bi-trash"></i> Delete
                            </a>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
    else
    {
        <div class="admin-empty-state">
            <i class="bi bi-box-seam"></i>
            <h3>No Packs Yet</h3>
            <p>Create your first game pack to get started!</p>
            <a asp-action="Create" class="btn-admin-primary">
                <i class="bi bi-plus-circle"></i> Create First Pack
            </a>
        </div>
    }
</div>
